<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="黑群晖安装步骤略，引导盘+ 关闭内置 EMMC 网上教程比较多，不过多赘述，安装参考 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 绿联nas 关闭watchdog 及修改启"><meta name=keywords content="推荐,NAS,Synology"><title>DXP4800-黑群晖小记</title><link rel=canonical href=/p/dxp4800-synology/><link rel=stylesheet href=/scss/style.min.abbd69b2908fdfcd5179898beaafd374514a86538d81639ddd2c58c06ae54e40.css><meta property="og:title" content="DXP4800-黑群晖小记"><meta property="og:description" content="黑群晖安装步骤略，引导盘+ 关闭内置 EMMC 网上教程比较多，不过多赘述，安装参考 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 绿联nas 关闭watchdog 及修改启"><meta property="og:url" content="/p/dxp4800-synology/"><meta property="og:site_name" content="eatmoreduck"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="go"><meta property="article:tag" content="golang"><meta property="article:tag" content="cloudflare"><meta property="article:tag" content="Synology"><meta property="article:published_time" content="2024-11-03T00:00:00+08:00"><meta property="article:modified_time" content="2024-11-03T00:00:00+08:00"><meta name=twitter:title content="DXP4800-黑群晖小记"><meta name=twitter:description content="黑群晖安装步骤略，引导盘+ 关闭内置 EMMC 网上教程比较多，不过多赘述，安装参考 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 绿联nas 关闭watchdog 及修改启"><link rel="shortcut icon" href=/favicon.svg><script async src="https://www.googletagmanager.com/gtag/js?id=G-CQHLWQT786"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CQHLWQT786",{anonymize_ip:!1})}</script><head><meta name=google-site-verification content="67MkefjxquWSUd3HdmItoywyKgLkgVJkqXmVEnF3blk"></head></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu40afc654769980c75bc27da6c25827c9_197289_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>eatmoreduck</a></h1><h2 class=site-description>A blog maintained by an interesting programmer.</h2></div></header><ol class=social-menu><li><a href=https://github.com/eatmoreduck/ target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=/feed.xml target=_blank title=RSS rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>Links</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#已解决>已解决</a></li><li><a href=#待办>待办</a></li><li><a href=#风扇转速脚本待测试>风扇转速脚本（待测试）</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/daily-life/>Daily life</a>
<a href=/categories/nas/>NAS</a>
<a href=/categories/%E7%BE%A4%E6%99%96/>群晖</a>
<a href=/categories/synology/>Synology</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/dxp4800-synology/>DXP4800-黑群晖小记</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Nov 03, 2024</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>5 minute read</time></div></footer></div></header><section class=article-content><p>黑群晖安装步骤略，引导盘+ 关闭内置 EMMC 网上教程比较多，不过多赘述，安装参考</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>绿联nas 关闭watchdog 及修改启动方式教程
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[https://post.smzdm.com/p/a3xnev8n/](https://post.smzdm.com/p/a3xnev8n/)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>绿联黑群晖
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[https://post.smzdm.com/p/a07nw4zr/](https://post.smzdm.com/p/a07nw4zr/)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>黑群晖安装教程
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[https://post.smzdm.com/p/akk9vpkr/](https://post.smzdm.com/p/akk9vpkr/)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>2024 年就 10 月黑群晖 nas 教程
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[https://www.bilibili.com/video/BV1XN2QYWEAi/?spm_id_from=333.337.search-card.all.click&amp;vd_source=c50111db380d4669d222dbf4f28aa85a](https://www.bilibili.com/video/BV1XN2QYWEAi/?spm_id_from=333.337.search-card.all.click&amp;vd_source=c50111db380d4669d222dbf4f28aa85a)
</span></span></code></pre></td></tr></table></div></div><h2 id=已解决>已解决</h2><ol><li>解决视频HEIC不能播放问题，需要安装 AME 套件并激活，参见 <a class=link href=https://post.smzdm.com/p/a7pw05r9/ target=_blank rel=noopener>https://post.smzdm.com/p/a7pw05r9/</a></li><li>更新小红点问题： 更改/etc/host,增加127.0.0.1 update.synology.com（未解决，后续再做）</li><li>MOV 视频封面不显示问题，升级ffmpeg 套件，从 4 升级到 6 后重建索引解决 ，参见 <a class=link href=https://blog.csdn.net/qq_44726883/article/details/140429626 target=_blank rel=noopener>https://blog.csdn.net/qq_44726883/article/details/140429626</a></li><li>硬盘灯闪烁问题，不影响使用，故暂不解决，参见</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://www.langog.com/?p=0f263caf-d8a0-4627-b458-7f1df146b88a
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>https://github.com/miskcoo/ugreen_leds_controller
</span></span></code></pre></td></tr></table></div></div><ol start=5><li>群晖信息显示监控 ，ssh 安装 sensors 插件即可，<a class=link href=https://post.smzdm.com/p/a8xze450/ target=_blank rel=noopener>https://post.smzdm.com/p/a8xze450/</a>，后期使用hertzbeat 统一监控（11 月 1 日解决问题 3 后，重建索引时，发现 cpu 温度跟面板温度似乎一样</li><li>风扇问题，风扇无法自定义调节转速，暂时直接拉风速到 100 参见连接
<a class=link href="https://post.smzdm.com/p/a0xk4el8/?sort_tab=hot/#comments" target=_blank rel=noopener>https://post.smzdm.com/p/a0xk4el8/?sort_tab=hot/#comments</a></li><li>外网访问,zerotier 已打通内外网访问，自建 planet 来搞定外网访问问题</li><li>公网 ip v4 已开通，ddns-go + 端口转发 + Let’s Encrypt 完成整个网络搭建</li><li>软件问题，主要设备平台为Android + mac 常用软件下载参考<a class=link href="https://www.synology.cn/zh-cn/support/download?version=7.2#utilities" target=_blank rel=noopener>https://www.synology.cn/zh-cn/support/download?version=7.2#utilities</a></li><li>nas 内置docker 容器跑<ol><li><del>immich作为群晖相册补充</del> （因群晖相册已足够，暂时不用）</li><li>jellyfin</li></ol></li><li>2015mac docker容器<ol><li>heatzbeat 做为整个局域网的监控</li><li>alist 挂百度网盘，夸克网盘，阿里云网盘</li><li>gitlab</li><li>gitlab-runner</li></ol></li></ol><p>经过一系列折腾之后，目前公网访问已经无问题，如果 ddns 挂了，也有自建 zerotier 能作为补充使用，后续考虑加一个 UPS 及两条 512 的 SSD 组 raid1 作为 docker 及虚拟机盘</p><h2 id=待办>待办</h2><ol><li><del>因使用内置ddns 时出现过梅林固件上的 clash 规则问题，导致 ddns 出现错误的 ip（实际为代理的 ip），后续考虑增加一个软路由</del> （新版 Merlin Clash已支持自定义规则，可以在访问 api.cloudflare.com 时不使用代理）</li><li>公网 ipv4 访问不是很安全，考虑后续将 ddns 迁移到群晖中，直接开ipv6 访问</li><li><del>群晖链路聚合开启</del> （RAX50 不支持链路聚合，lan 口只能到千兆，跑不满绿联 2.5G 带宽）</li><li>时间机器构建</li><li>mac 常用文件自动备份到群晖任务构建</li><li>冷备份任务构建</li><li>2015mac docker容器配置及配置文件备份</li><li>7 中的关键任务自动同步到群晖防丢失</li><li>考虑将此次黑裙关键步骤细化，落为文档，防丢失</li><li>风扇自动调速脚本配置，目前弄了个简版，后续再配置和优化</li></ol><h2 id=风扇转速脚本待测试>风扇转速脚本（待测试）</h2><p>保存为 fan_control.sh，然后执行脚本</p><p>chmod +x fan_control.sh
sudo ./fan_control.sh</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nv>FAN_CONTROL</span><span class=o>=</span><span class=s2>&#34;/sys/devices/platform/it87.2608/hwmon/hwmon2/pwm3&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 检查必要的命令是否存在</span>
</span></span><span class=line><span class=cl><span class=nb>command</span> -v sensors &gt;/dev/null 2&gt;<span class=p>&amp;</span><span class=m>1</span> <span class=o>||</span> <span class=o>{</span> <span class=nb>echo</span> <span class=s2>&#34;需要安装 lm-sensors，请先运行: apt-get install lm-sensors&#34;</span><span class=p>;</span> <span class=nb>exit</span> 1<span class=p>;</span> <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=nb>command</span> -v bc &gt;/dev/null 2&gt;<span class=p>&amp;</span><span class=m>1</span> <span class=o>||</span> <span class=o>{</span> <span class=nb>echo</span> <span class=s2>&#34;需要安装 bc，请先运行: apt-get install bc&#34;</span><span class=p>;</span> <span class=nb>exit</span> 1<span class=p>;</span> <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 检查文件权限和路径</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> ! -w <span class=s2>&#34;</span><span class=nv>$FAN_CONTROL</span><span class=s2>&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;错误: 无法写入风扇控制文件 </span><span class=nv>$FAN_CONTROL</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;请确保以root权限运行此脚本&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 检查风扇控制模式设置是否成功</span>
</span></span><span class=line><span class=cl><span class=k>if</span> ! <span class=nb>echo</span> <span class=m>1</span> &gt; /sys/devices/platform/it87.2608/hwmon/hwmon2/pwm3_enable<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;错误: 无法设置风扇控制模式&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 初始化变量</span>
</span></span><span class=line><span class=cl><span class=nb>declare</span> -a <span class=nv>temp_history</span><span class=o>=()</span>
</span></span><span class=line><span class=cl><span class=nv>current_pwm</span><span class=o>=</span><span class=m>85</span>
</span></span><span class=line><span class=cl><span class=nv>NORMAL_INTERVAL</span><span class=o>=</span><span class=m>15</span>
</span></span><span class=line><span class=cl><span class=nv>HIGH_TEMP_INTERVAL</span><span class=o>=</span><span class=m>5</span>
</span></span><span class=line><span class=cl><span class=nv>TEMP_THRESHOLD</span><span class=o>=</span><span class=m>45</span>
</span></span><span class=line><span class=cl><span class=nv>MIN_PWM</span><span class=o>=</span><span class=m>55</span>
</span></span><span class=line><span class=cl><span class=nv>MAX_PWM</span><span class=o>=</span><span class=m>255</span>
</span></span><span class=line><span class=cl><span class=nv>LOG_FILE</span><span class=o>=</span><span class=s2>&#34;/var/log/fan_control.log&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 创建日志文件（如果不存在）</span>
</span></span><span class=line><span class=cl>touch <span class=s2>&#34;</span><span class=nv>$LOG_FILE</span><span class=s2>&#34;</span> 2&gt;/dev/null <span class=o>||</span> <span class=o>{</span> <span class=nb>echo</span> <span class=s2>&#34;错误: 无法创建日志文件&#34;</span><span class=p>;</span> <span class=nb>exit</span> 1<span class=p>;</span> <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 温度读取函数</span>
</span></span><span class=line><span class=cl>get_temp<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>local</span> temp
</span></span><span class=line><span class=cl>    <span class=nv>temp</span><span class=o>=</span><span class=k>$(</span>sensors <span class=p>|</span> grep <span class=s2>&#34;Package id 0:&#34;</span> <span class=p>|</span> awk <span class=s1>&#39;{print $4}&#39;</span> <span class=p>|</span> tr -d <span class=s1>&#39;+°C&#39;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 检查温度读取是否成功</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[[</span> ! <span class=nv>$temp</span> <span class=o>=</span>~ ^<span class=o>[</span>0-9<span class=o>]</span>+<span class=o>(</span><span class=se>\.</span><span class=o>[</span>0-9<span class=o>]</span>+<span class=o>)</span>?$ <span class=o>]]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;错误: 无法正确读取温度&#34;</span> &gt;&gt; <span class=s2>&#34;</span><span class=nv>$LOG_FILE</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 检查温度是否在合理范围内 (-20到100度)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>((</span> <span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$temp</span><span class=s2> &lt; -20 || </span><span class=nv>$temp</span><span class=s2> &gt; 100&#34;</span> <span class=p>|</span> bc -l<span class=k>)</span> <span class=o>))</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;警告: 温度读数异常: </span><span class=si>${</span><span class=nv>temp</span><span class=si>}</span><span class=s2>°C&#34;</span> &gt;&gt; <span class=s2>&#34;</span><span class=nv>$LOG_FILE</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$temp</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 设置风扇转速函数</span>
</span></span><span class=line><span class=cl>set_fan_speed<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>local</span> <span class=nv>pwm</span><span class=o>=</span><span class=nv>$1</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 确保PWM值在有效范围内</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[</span> <span class=nv>$pwm</span> -lt <span class=nv>$MIN_PWM</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>pwm</span><span class=o>=</span><span class=nv>$MIN_PWM</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=o>[</span> <span class=nv>$pwm</span> -gt <span class=nv>$MAX_PWM</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>pwm</span><span class=o>=</span><span class=nv>$MAX_PWM</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 尝试设置风扇转速</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> ! <span class=nb>echo</span> <span class=nv>$pwm</span> &gt; <span class=s2>&#34;</span><span class=nv>$FAN_CONTROL</span><span class=s2>&#34;</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;错误: 设置风扇转速失败: </span><span class=nv>$pwm</span><span class=s2>&#34;</span> &gt;&gt; <span class=s2>&#34;</span><span class=nv>$LOG_FILE</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 主循环</span>
</span></span><span class=line><span class=cl><span class=k>while</span> true<span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=c1># 获取CPU温度</span>
</span></span><span class=line><span class=cl>    <span class=nv>TEMP</span><span class=o>=</span><span class=k>$(</span>get_temp<span class=k>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[</span> <span class=nv>$?</span> -ne <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=c1># 温度读取失败，使用保守的风扇设置</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;警告: 温度读取失败，使用默认风扇设置&#34;</span> &gt;&gt; <span class=s2>&#34;</span><span class=nv>$LOG_FILE</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        set_fan_speed <span class=m>150</span>
</span></span><span class=line><span class=cl>        sleep <span class=nv>$NORMAL_INTERVAL</span>
</span></span><span class=line><span class=cl>        <span class=k>continue</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 根据温度设置检测间隔</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>((</span> <span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$TEMP</span><span class=s2> &gt;= </span><span class=nv>$TEMP_THRESHOLD</span><span class=s2>&#34;</span> <span class=p>|</span> bc -l<span class=k>)</span> <span class=o>))</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>sleep_interval</span><span class=o>=</span><span class=nv>$HIGH_TEMP_INTERVAL</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=nv>sleep_interval</span><span class=o>=</span><span class=nv>$NORMAL_INTERVAL</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 设置目标风扇转速</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>((</span> <span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$TEMP</span><span class=s2> &lt; 30&#34;</span> <span class=p>|</span> bc -l<span class=k>)</span> <span class=o>))</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>target_pwm</span><span class=o>=</span><span class=nv>$MIN_PWM</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=o>((</span> <span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$TEMP</span><span class=s2> &gt;= 30 &amp;&amp; </span><span class=nv>$TEMP</span><span class=s2> &lt; 35&#34;</span> <span class=p>|</span> bc -l<span class=k>)</span> <span class=o>))</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>target_pwm</span><span class=o>=</span><span class=m>85</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=o>((</span> <span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$TEMP</span><span class=s2> &gt;= 35 &amp;&amp; </span><span class=nv>$TEMP</span><span class=s2> &lt; 40&#34;</span> <span class=p>|</span> bc -l<span class=k>)</span> <span class=o>))</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>target_pwm</span><span class=o>=</span><span class=m>120</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=o>((</span> <span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$TEMP</span><span class=s2> &gt;= 40 &amp;&amp; </span><span class=nv>$TEMP</span><span class=s2> &lt; 45&#34;</span> <span class=p>|</span> bc -l<span class=k>)</span> <span class=o>))</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>target_pwm</span><span class=o>=</span><span class=m>150</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=o>((</span> <span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$TEMP</span><span class=s2> &gt;= 45 &amp;&amp; </span><span class=nv>$TEMP</span><span class=s2> &lt; 50&#34;</span> <span class=p>|</span> bc -l<span class=k>)</span> <span class=o>))</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>target_pwm</span><span class=o>=</span><span class=m>180</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=o>((</span> <span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$TEMP</span><span class=s2> &gt;= 50 &amp;&amp; </span><span class=nv>$TEMP</span><span class=s2> &lt; 55&#34;</span> <span class=p>|</span> bc -l<span class=k>)</span> <span class=o>))</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>target_pwm</span><span class=o>=</span><span class=m>200</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=o>((</span> <span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$TEMP</span><span class=s2> &gt;= 55 &amp;&amp; </span><span class=nv>$TEMP</span><span class=s2> &lt; 60&#34;</span> <span class=p>|</span> bc -l<span class=k>)</span> <span class=o>))</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>target_pwm</span><span class=o>=</span><span class=m>225</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=nv>target_pwm</span><span class=o>=</span><span class=nv>$MAX_PWM</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 平滑过渡</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[</span> <span class=nv>$target_pwm</span> -gt <span class=nv>$current_pwm</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>current_pwm</span><span class=o>=</span><span class=k>$((</span> current_pwm <span class=o>+</span> <span class=m>8</span> <span class=k>))</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=o>[</span> <span class=nv>$target_pwm</span> -lt <span class=nv>$current_pwm</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nv>current_pwm</span><span class=o>=</span><span class=k>$((</span> current_pwm <span class=o>-</span> <span class=m>3</span> <span class=k>))</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 确保PWM值在有效范围内并设置风扇转速</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> ! set_fan_speed <span class=nv>$current_pwm</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;错误: 风扇控制失败，等待下次尝试&#34;</span> &gt;&gt; <span class=s2>&#34;</span><span class=nv>$LOG_FILE</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        sleep <span class=nv>$NORMAL_INTERVAL</span>
</span></span><span class=line><span class=cl>        <span class=k>continue</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 记录日志，同时检查日志文件大小</span>
</span></span><span class=line><span class=cl>    <span class=nv>log_size</span><span class=o>=</span><span class=k>$(</span>stat -f %z <span class=s2>&#34;</span><span class=nv>$LOG_FILE</span><span class=s2>&#34;</span> 2&gt;/dev/null <span class=o>||</span> <span class=nb>echo</span> 0<span class=k>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[</span> <span class=nv>$log_size</span> -gt <span class=m>10485760</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>  <span class=c1># 10MB</span>
</span></span><span class=line><span class=cl>        mv <span class=s2>&#34;</span><span class=nv>$LOG_FILE</span><span class=s2>&#34;</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>LOG_FILE</span><span class=si>}</span><span class=s2>.old&#34;</span>
</span></span><span class=line><span class=cl>        touch <span class=s2>&#34;</span><span class=nv>$LOG_FILE</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;</span><span class=k>$(</span>date <span class=s1>&#39;+%Y-%m-%d %H:%M:%S&#39;</span><span class=k>)</span><span class=s2> - Temp: </span><span class=si>${</span><span class=nv>TEMP</span><span class=si>}</span><span class=s2>°C, PWM: </span><span class=si>${</span><span class=nv>current_pwm</span><span class=si>}</span><span class=s2>, Interval: </span><span class=si>${</span><span class=nv>sleep_interval</span><span class=si>}</span><span class=s2>s&#34;</span> &gt;&gt; <span class=s2>&#34;</span><span class=nv>$LOG_FILE</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 使用trap捕获信号</span>
</span></span><span class=line><span class=cl>    <span class=nb>trap</span> <span class=s1>&#39;echo &#34;收到终止信号，设置风扇为默认值并退出...&#34;; set_fan_speed 150; exit 0&#39;</span> SIGTERM SIGINT
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    sleep <span class=nv>$sleep_interval</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/tags/go/>go</a>
<a href=/tags/golang/>golang</a>
<a href=/tags/cloudflare/>cloudflare</a>
<a href=/tags/synology/>Synology</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/wan-to-lan-via-public-ip/><div class=article-details><h2 class=article-title>远程访问系列（一）公网IP</h2></div></a></article><article><a href=/p/thinking-in-july/><div class=article-details><h2 class=article-title>七月随感</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=eatmoreduck/eatmoreduck.github.io data-repo-id=R_kgDOLYGcOg data-category=Announcements data-category-id=DIC_kwDOLYGcOs4Ci1aO data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en crossorigin=anonymous async></script>
<script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 eatmoreduck</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.22.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><style></style><script></script><body></body><footer></footer></body></html>