<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on eatmoreduck</title><link>/post/</link><description>Recent content in Posts on eatmoreduck</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 06 Nov 2024 10:25:04 +0800</lastBuildDate><atom:link href="/post/feed.xml" rel="self" type="application/rss+xml"/><item><title>远程访问系列（一）公网IP</title><link>/p/wan-to-lan-via-public-ip/</link><pubDate>Wed, 06 Nov 2024 10:25:04 +0800</pubDate><guid>/p/wan-to-lan-via-public-ip/</guid><description>&lt;p>最近新入了个 NAS ，设备是绿联 DXP4800，装上黑裙之后，首要的问题是解决最常用的照片文件同步问题，上文已经解决过，参见 &lt;a class="link" href="https://blog.xiaohuangyu.space/p/dxp4800-synology/" target="_blank" rel="noopener"
>DXP4800-黑群晖小记&lt;/a>](&lt;a class="link" href="https://blog.xiaohuangyu.space/p/dxp4800-synology/" target="_blank" rel="noopener"
>https://blog.xiaohuangyu.space/p/dxp4800-synology/&lt;/a>) 研究了几种外网访问内网设备的方案，在这里做个总结。本文是该系列的开篇，主要介绍各种方案的优缺点和适用场景。
网上搜索外网访问内网，局域网访问，远程连接，远程访问 docker，基本都可以归类为人不在家，想访问家中的nas 及其他的设备，所以标题暂时起名为远程访问系列&lt;/p>
&lt;h1 id="远程访问方案梳理">远程访问方案梳理&lt;/h1>
&lt;h3 id="1-基于公网-ip-的直接访问方案">1. 基于公网 IP 的直接访问方案&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>优点&lt;/strong>：直接利用公网 IP 访问，无需中转，速度快。支持 ipv4/ipv6。&lt;/li>
&lt;li>&lt;strong>缺点&lt;/strong>：依赖运营商分配公网 IP，安全风险高。&lt;/li>
&lt;li>&lt;strong>适用场景&lt;/strong>：有公网 IP 的网络环境，如部分企业专线、有公网 IP 的家庭网络。&lt;/li>
&lt;/ul>
&lt;h3 id="2-vpn虚拟专用网络方案">2. VPN（虚拟专用网络）方案&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>优点&lt;/strong>：安全加密，可完整访问内网。&lt;/li>
&lt;li>&lt;strong>缺点&lt;/strong>：需服务器或依赖 Cloudflare 服务，配置复杂。&lt;/li>
&lt;li>&lt;strong>适用场景&lt;/strong>：企业办公环境。&lt;/li>
&lt;li>&lt;strong>软件推荐&lt;/strong>：OpenVPN、WireGuard。&lt;/li>
&lt;/ul>
&lt;h3 id="3-内网穿透方案">3. 内网穿透方案&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>优点&lt;/strong>：无需公网 IP，配置灵活。&lt;/li>
&lt;li>&lt;strong>缺点&lt;/strong>：依赖中转服务器，且访问速度与中转服务器带宽有关，需要额外付费，并且可能有延迟。&lt;/li>
&lt;li>&lt;strong>适用场景&lt;/strong>：临时远程访问，如开发测试。&lt;/li>
&lt;li>&lt;strong>软件推荐&lt;/strong>：frp、ngrok。&lt;/li>
&lt;/ul>
&lt;h3 id="4-zerotier-异地组网方案">4. ZeroTier 异地组网方案&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>优点&lt;/strong>：P2P 连接，配置简单。&lt;/li>
&lt;li>&lt;strong>缺点&lt;/strong>：免费版限制设备数量，且存在打洞失败几率，但可使用自建 planet 一类的来突破限制（需要服务器）。&lt;/li>
&lt;li>&lt;strong>适用场景&lt;/strong>：小型组网，如家庭网络。&lt;/li>
&lt;/ul>
&lt;h3 id="5-cloudflare-tunnel-方案">5. Cloudflare Tunnel 方案&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>优点&lt;/strong>：安全性高，配置简单。&lt;/li>
&lt;li>&lt;strong>缺点&lt;/strong>：依赖 Cloudflare 服务，因众所周知的原因速度访问巨慢。&lt;/li>
&lt;li>&lt;strong>适用场景&lt;/strong>：Web 服务、应用访问。&lt;/li>
&lt;/ul>
&lt;p>个人比较推荐方案 1和方案 4，理由如下&lt;/p>
&lt;ol>
&lt;li>付费少&lt;/li>
&lt;li>配置相对简单&lt;/li>
&lt;li>打通之后，需要少量配置或无需配置即可实现多设备访问&lt;/li>
&lt;/ol>
&lt;p>本文先介绍如何使用公网 ip 来进行远程访问，具体操作步骤如下&lt;/p>
&lt;h1 id="基于公网-ip-的直接访问方案">基于公网 IP 的直接访问方案&lt;/h1>
&lt;h2 id="一获取公网ip">一、获取公网IP&lt;/h2>
&lt;h3 id="1-申请公网ip">1. 申请公网IP&lt;/h3>
&lt;ul>
&lt;li>联系宽带运营商客服申请开通公网IP&lt;/li>
&lt;li>根据运营商政策可能需要更换套餐或支付额外费用&lt;/li>
&lt;li>可能获得的公网IP类型：
&lt;ul>
&lt;li>固定IPv4（地址不变，费用较高，一般申请不到）&lt;/li>
&lt;li>动态IPv4（光猫重启后地址可能会变化，所以需要域名配合ddns 解析）&lt;/li>
&lt;li>动态IPv6（现在运营商普遍支持，但需要配合动态 dns 解析）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="2-验证公网ip">2. 验证公网IP&lt;/h3>
&lt;ul>
&lt;li>访问 &lt;a class="link" href="https://ip138.com/" target="_blank" rel="noopener"
>https://ip138.com/&lt;/a> 或直接百度搜 ip 查询当前 ip&lt;/li>
&lt;li>使用命令行工具检查：
&lt;ul>
&lt;li>Windows: ipconfig /all&lt;/li>
&lt;li>Linux/Mac: ifconfig 或 ip addr&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>注意区分内网IP（192.168.x.x、10.x.x.x等）和公网IP，且注意路由器或光猫是否响应 ping 命令&lt;/li>
&lt;/ul>
&lt;h2 id="二网络环境配置">二、网络环境配置&lt;/h2>
&lt;h3 id="1-光猫设置">1. 光猫设置&lt;/h3>
&lt;ul>
&lt;li>理想情况：直接在光猫配置端口转发
&lt;ul>
&lt;li>需要运营商提供超级管理员密码&lt;/li>
&lt;li>配置较简单，性能较好&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>现实情况：多数无法获取超级管理员权限，且光猫性能垃圾，多设备连接了之后会异常卡
&lt;ul>
&lt;li>需要将光猫改为桥接模式，自己额外接路由器&lt;/li>
&lt;li>可能需要运营商远程协助设置&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="可能遇到的问题及解决方案">可能遇到的问题及解决方案&lt;/h4>
&lt;ol>
&lt;li>运营商不给开公网ip =&amp;gt; 投诉&lt;/li>
&lt;li>运营商不给开桥接 =》 投诉&lt;/li>
&lt;/ol>
&lt;h3 id="2-路由器配置">2. 路由器配置&lt;/h3>
&lt;ul>
&lt;li>选购支持端口转发的路由器&lt;/li>
&lt;li>设置路由器PPPoE拨号
&lt;ul>
&lt;li>输入宽带账号密码&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>配置端口转发
&lt;ul>
&lt;li>选择需要转发的内部端口&lt;/li>
&lt;li>设置对应的外部端口&lt;/li>
&lt;li>指定内网设备IP地址&lt;/li>
&lt;li>选择协议类型（TCP/UDP）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="可能遇到的问题及解决方案-1">可能遇到的问题及解决方案&lt;/h4>
&lt;ol>
&lt;li>拿不到宽带账号密码 =》 投诉&lt;/li>
&lt;li>验证自己的路由器是否获取到公网 ip =》 &lt;a class="link" href="https://ip138.com" target="_blank" rel="noopener"
>https://ip138.com&lt;/a> 看ip 是否与路由器后台 ip 一致，且不为192.168.xxx.xxx ，不为 10.xx.xx.xx&lt;/li>
&lt;li>验证端口转发是否生效 =&amp;gt; 假定获取到的公网ip 为 222.71.193.9 配置的转发为 9999 端口转发到内网 192.168.1.200 机器的 5001 端口，则执行命令&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;gt; telnet 222.71.193.9 9999 回车
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Trying 222.71.193.9...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Connected to 222.71.193.9.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Escape character is &amp;#39;^]&amp;#39;. (出现这行表示正常，如果没出现则依次排查应用状态，防火墙状态，端口转发是否正确)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-防火墙设置">3. 防火墙设置&lt;/h3>
&lt;ul>
&lt;li>路由器防火墙配置
&lt;ul>
&lt;li>开放必要端口&lt;/li>
&lt;li>设置访问控制规则&lt;/li>
&lt;li>启用基本安全防护&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>内网设备防火墙配置
&lt;ul>
&lt;li>允许相关端口访问&lt;/li>
&lt;li>配置访问白名单&lt;/li>
&lt;li>启用安全防护措施&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>完成上述配置之后，在外网可以直接通过 http://公网ip:端口转发外部port 访问相关的 web 应用,此处的 ip 为公网 ip，port 为配置的外网端口转发，假定获取到的公网ip 为 222.71.193.9 配置的转发为 9999 端口转发到内网 192.168.1.200 机器的 5000 端口（群晖默认端口），则访问地址为
http://222.71.193.9:9999 ，但运营商给的是动态 ip，可能会在某些特定的时候自动改变，或者是在路由器重启时重新分配，重新分配之后，就原来的方式就不能访问了，所以为了使用方便，都希望直接使用某个域名来远程访问内部服务，接下来就需要介绍后续DDNS 了&lt;/p>
&lt;p>DDNS （Dynamic DNS), 熟悉 DNS 的小伙伴都知道 DNS 是将域名转为 IP 地址的服务，直接复习下&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> DDNS（动态域名系统）和DNS（域名系统）是两个相关但不同的概念。以下是它们的主要区别：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">### DNS（域名系统）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- **全球性服务**：DNS是一个全球性的服务，它将人类易于记忆的域名转换为计算机使用的IP地址。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- **静态解析**：传统的DNS服务通常用于静态IP地址，即域名与IP地址的映射是固定的，不会随时间变化。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- **分布式系统**：DNS是一个分层的分布式系统，包括根服务器、顶级域名服务器、权威名称服务器和递归服务器。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- **缓存机制**：DNS查询结果通常被缓存，以提高解析速度和减轻DNS服务器的负载。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- **适用于静态IP**：对于拥有静态公网IP的用户或企业来说，传统的DNS服务是合适的。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">### DDNS（动态域名系统）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- **动态IP支持**：DDNS服务允许用户将一个固定的域名与动态变化的IP地址关联起来，特别适用于家庭用户和小型办公室，他们的公网IP地址可能会因为重新连接互联网而变化。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- **自动更新**：DDNS服务会自动检测IP地址的变化，并更新DNS记录，确保域名始终指向当前的IP地址。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- **依赖第三方服务**：DDNS服务通常由第三方提供商提供，用户需要在服务提供商的平台上注册域名，并配置DDNS服务。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- **客户端软件**：用户通常需要在本地网络设备上安装客户端软件，该软件会监测IP地址的变化，并与DDNS服务提供商的服务器通信以更新DNS记录。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- **适用于动态IP**：对于没有静态公网IP的用户来说，DDNS服务是必要的，以便他们能够通过一个固定的域名来访问或管理他们的网络设备。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">总结来说，DNS是一个全球性的域名解析服务，而DDNS是DNS服务的一个扩展，专门为动态IP地址提供域名解析服务。DDNS解决了动态IP地址环境下域名解析的问题，使得用户可以通过一个固定的域名来访问他们的设备，即使这些设备的IP地址可能会变化。
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>DDNS是直接将域名转化为动态 ip，这样我们配置好之后就直接能用固定的域名访问内网中的各种服务了&lt;/p>
&lt;h2 id="三域名解析配置可选">三、域名解析配置（可选）&lt;/h2>
&lt;h3 id="1-域名准备">1. 域名准备&lt;/h3>
&lt;ul>
&lt;li>购买域名&lt;/li>
&lt;li>配置DNS服务器&lt;/li>
&lt;/ul>
&lt;h3 id="2-ddns配置">2. DDNS配置&lt;/h3>
&lt;ul>
&lt;li>选择DDNS软件
&lt;ul>
&lt;li>DDNS-GO&lt;/li>
&lt;li>Lucky&lt;/li>
&lt;li>NO-IP&lt;/li>
&lt;li>花生壳&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>软件配置
&lt;ul>
&lt;li>设置域名提供商API，网上教程太多 不过多赘述，参考各个软件官方文档即可&lt;/li>
&lt;li>配置更新间隔&lt;/li>
&lt;li>选择需要解析的域名&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>运行方式
&lt;ul>
&lt;li>物理机直接运行&lt;/li>
&lt;li>Docker容器运行&lt;/li>
&lt;li>路由器插件运行&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="3-解析验证">3. 解析验证&lt;/h3>
&lt;ul>
&lt;li>测试域名解析是否正确&lt;/li>
&lt;/ul>
&lt;h4 id="可能遇到的问题及解决方案-2">可能遇到的问题及解决方案&lt;/h4>
&lt;ol>
&lt;li>测试域名解析是否正确 =&amp;gt;&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">❯ ping 你配置在 ddns 软件里的域名 比如
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ping nas.abcdefg.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PING nas.abcdefg.com (222.71.193.9): 56 data bytes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">64 bytes from 222.71.193.9: icmp_seq=0 ttl=50 time=12.410 ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">64 bytes from 222.71.193.9: icmp_seq=1 ttl=50 time=13.020 ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">64 bytes from 222.71.193.9: icmp_seq=2 ttl=50 time=15.120 ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">重复出现的 ip与自己公网 ip 一致即可
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>如果在配置 ddns 之前如果都没问题，但是 ddns 解析有问题，可能需要关注下自己是否使用了相关代理软件，修改代理规则，我曾经遇到过使用 cloudflare 的 dns，同时在路由器上配置了代理，再使用 ddns 时发现 cloudflare 上的 dns 解析一直是解析到某海外 ip，排查之后发现是规则设置的问题&lt;/strong>&lt;/p>
&lt;h2 id="四测试验证">四、测试验证&lt;/h2>
&lt;p>测试部分，不做过多数据测试，能满足自己要求即可&lt;/p>
&lt;h3 id="1-基础连通性测试">1. 基础连通性测试&lt;/h3>
&lt;ul>
&lt;li>Ping测试
&lt;ul>
&lt;li>ping 公网IP&lt;/li>
&lt;li>ping 域名（如果配置了域名）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>端口检测
&lt;ul>
&lt;li>使用在线端口检测工具&lt;/li>
&lt;li>telnet测试端口连通性&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="2-性能测试">2. 性能测试&lt;/h3>
&lt;ul>
&lt;li>带宽测试&lt;/li>
&lt;li>延迟测试&lt;/li>
&lt;li>稳定性测试&lt;/li>
&lt;/ul></description></item><item><title>DXP4800-黑群晖小记</title><link>/p/dxp4800-synology/</link><pubDate>Sun, 03 Nov 2024 00:00:00 +0800</pubDate><guid>/p/dxp4800-synology/</guid><description>&lt;p>黑群晖安装步骤略，引导盘+ 关闭内置 EMMC 网上教程比较多，不过多赘述，安装参考&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">绿联nas 关闭watchdog 及修改启动方式教程
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[https://post.smzdm.com/p/a3xnev8n/](https://post.smzdm.com/p/a3xnev8n/)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">绿联黑群晖
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[https://post.smzdm.com/p/a07nw4zr/](https://post.smzdm.com/p/a07nw4zr/)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">黑群晖安装教程
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[https://post.smzdm.com/p/akk9vpkr/](https://post.smzdm.com/p/akk9vpkr/)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2024 年就 10 月黑群晖 nas 教程
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[https://www.bilibili.com/video/BV1XN2QYWEAi/?spm_id_from=333.337.search-card.all.click&amp;amp;vd_source=c50111db380d4669d222dbf4f28aa85a](https://www.bilibili.com/video/BV1XN2QYWEAi/?spm_id_from=333.337.search-card.all.click&amp;amp;vd_source=c50111db380d4669d222dbf4f28aa85a)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="已解决">已解决&lt;/h2>
&lt;ol>
&lt;li>解决视频HEIC不能播放问题，需要安装 AME 套件并激活，参见 &lt;a class="link" href="https://post.smzdm.com/p/a7pw05r9/" target="_blank" rel="noopener"
>https://post.smzdm.com/p/a7pw05r9/&lt;/a>&lt;/li>
&lt;li>更新小红点问题： 更改/etc/host,增加127.0.0.1 update.synology.com（未解决，后续再做）&lt;/li>
&lt;li>MOV 视频封面不显示问题，升级ffmpeg 套件，从 4 升级到 6 后重建索引解决 ，参见 &lt;a class="link" href="https://blog.csdn.net/qq_44726883/article/details/140429626" target="_blank" rel="noopener"
>https://blog.csdn.net/qq_44726883/article/details/140429626&lt;/a>&lt;/li>
&lt;li>硬盘灯闪烁问题，不影响使用，故暂不解决，参见&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">https://www.langog.com/?p=0f263caf-d8a0-4627-b458-7f1df146b88a
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">https://github.com/miskcoo/ugreen_leds_controller
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="5">
&lt;li>群晖信息显示监控 ，ssh 安装 sensors 插件即可，&lt;a class="link" href="https://post.smzdm.com/p/a8xze450/" target="_blank" rel="noopener"
>https://post.smzdm.com/p/a8xze450/&lt;/a>，后期使用hertzbeat 统一监控（11 月 1 日解决问题 3 后，重建索引时，发现 cpu 温度跟面板温度似乎一样&lt;/li>
&lt;li>风扇问题，风扇无法自定义调节转速，暂时直接拉风速到 100 参见连接
&lt;a class="link" href="https://post.smzdm.com/p/a0xk4el8/?sort_tab=hot/#comments" target="_blank" rel="noopener"
>https://post.smzdm.com/p/a0xk4el8/?sort_tab=hot/#comments&lt;/a>&lt;/li>
&lt;li>外网访问,zerotier 已打通内外网访问，自建 planet 来搞定外网访问问题&lt;/li>
&lt;li>公网 ip v4 已开通，ddns-go + 端口转发 + Let’s Encrypt 完成整个网络搭建&lt;/li>
&lt;li>软件问题，主要设备平台为Android + mac 常用软件下载参考&lt;a class="link" href="https://www.synology.cn/zh-cn/support/download?version=7.2#utilities" target="_blank" rel="noopener"
>https://www.synology.cn/zh-cn/support/download?version=7.2#utilities&lt;/a>&lt;/li>
&lt;li>nas 内置docker 容器跑
&lt;ol>
&lt;li>&lt;del>immich作为群晖相册补充&lt;/del> （因群晖相册已足够，暂时不用）&lt;/li>
&lt;li>jellyfin&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>2015mac docker容器
&lt;ol>
&lt;li>heatzbeat 做为整个局域网的监控&lt;/li>
&lt;li>alist 挂百度网盘，夸克网盘，阿里云网盘&lt;/li>
&lt;li>gitlab&lt;/li>
&lt;li>gitlab-runner&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;p>经过一系列折腾之后，目前公网访问已经无问题，如果 ddns 挂了，也有自建 zerotier 能作为补充使用，后续考虑加一个 UPS 及两条 512 的 SSD 组 raid1 作为 docker 及虚拟机盘&lt;/p>
&lt;h2 id="待办">待办&lt;/h2>
&lt;ol>
&lt;li>&lt;del>因使用内置ddns 时出现过梅林固件上的 clash 规则问题，导致 ddns 出现错误的 ip（实际为代理的 ip），后续考虑增加一个软路由&lt;/del> （新版 Merlin Clash已支持自定义规则，可以在访问 api.cloudflare.com 时不使用代理）&lt;/li>
&lt;li>公网 ipv4 访问不是很安全，考虑后续将 ddns 迁移到群晖中，直接开ipv6 访问&lt;/li>
&lt;li>&lt;del>群晖链路聚合开启&lt;/del> （RAX50 不支持链路聚合，lan 口只能到千兆，跑不满绿联 2.5G 带宽）&lt;/li>
&lt;li>时间机器构建&lt;/li>
&lt;li>mac 常用文件自动备份到群晖任务构建&lt;/li>
&lt;li>冷备份任务构建&lt;/li>
&lt;li>2015mac docker容器配置及配置文件备份&lt;/li>
&lt;li>7 中的关键任务自动同步到群晖防丢失&lt;/li>
&lt;li>考虑将此次黑裙关键步骤细化，落为文档，防丢失&lt;/li>
&lt;li>风扇自动调速脚本配置，目前弄了个简版，后续再配置和优化&lt;/li>
&lt;/ol>
&lt;h2 id="风扇转速脚本待测试">风扇转速脚本（待测试）&lt;/h2>
&lt;p>保存为 fan_control.sh，然后执行脚本&lt;/p>
&lt;p>chmod +x fan_control.sh
sudo ./fan_control.sh&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">FAN_CONTROL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/sys/devices/platform/it87.2608/hwmon/hwmon2/pwm3&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 检查必要的命令是否存在&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">command&lt;/span> -v sensors &amp;gt;/dev/null 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;需要安装 lm-sensors，请先运行: apt-get install lm-sensors&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nb">exit&lt;/span> 1&lt;span class="p">;&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">command&lt;/span> -v bc &amp;gt;/dev/null 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;需要安装 bc，请先运行: apt-get install bc&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nb">exit&lt;/span> 1&lt;span class="p">;&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 检查文件权限和路径&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> ! -w &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$FAN_CONTROL&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;错误: 无法写入风扇控制文件 &lt;/span>&lt;span class="nv">$FAN_CONTROL&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;请确保以root权限运行此脚本&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 检查风扇控制模式设置是否成功&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> ! &lt;span class="nb">echo&lt;/span> &lt;span class="m">1&lt;/span> &amp;gt; /sys/devices/platform/it87.2608/hwmon/hwmon2/pwm3_enable&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;错误: 无法设置风扇控制模式&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 初始化变量&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">declare&lt;/span> -a &lt;span class="nv">temp_history&lt;/span>&lt;span class="o">=()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">current_pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">85&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NORMAL_INTERVAL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">15&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">HIGH_TEMP_INTERVAL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">TEMP_THRESHOLD&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">45&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">MIN_PWM&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">55&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">MAX_PWM&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">255&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">LOG_FILE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/var/log/fan_control.log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 创建日志文件（如果不存在）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">touch &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LOG_FILE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> 2&amp;gt;/dev/null &lt;span class="o">||&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;错误: 无法创建日志文件&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nb">exit&lt;/span> 1&lt;span class="p">;&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 温度读取函数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">get_temp&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">local&lt;/span> temp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">temp&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>sensors &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;Package id 0:&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> awk &lt;span class="s1">&amp;#39;{print $4}&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> tr -d &lt;span class="s1">&amp;#39;+°C&amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 检查温度读取是否成功&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[[&lt;/span> ! &lt;span class="nv">$temp&lt;/span> &lt;span class="o">=&lt;/span>~ ^&lt;span class="o">[&lt;/span>0-9&lt;span class="o">]&lt;/span>+&lt;span class="o">(&lt;/span>&lt;span class="se">\.&lt;/span>&lt;span class="o">[&lt;/span>0-9&lt;span class="o">]&lt;/span>+&lt;span class="o">)&lt;/span>?$ &lt;span class="o">]]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;错误: 无法正确读取温度&amp;#34;&lt;/span> &amp;gt;&amp;gt; &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LOG_FILE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 检查温度是否在合理范围内 (-20到100度)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">((&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$temp&lt;/span>&lt;span class="s2"> &amp;lt; -20 || &lt;/span>&lt;span class="nv">$temp&lt;/span>&lt;span class="s2"> &amp;gt; 100&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> bc -l&lt;span class="k">)&lt;/span> &lt;span class="o">))&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;警告: 温度读数异常: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">temp&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">°C&amp;#34;&lt;/span> &amp;gt;&amp;gt; &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LOG_FILE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$temp&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 设置风扇转速函数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">set_fan_speed&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">local&lt;/span> &lt;span class="nv">pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 确保PWM值在有效范围内&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$pwm&lt;/span> -lt &lt;span class="nv">$MIN_PWM&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$MIN_PWM&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$pwm&lt;/span> -gt &lt;span class="nv">$MAX_PWM&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$MAX_PWM&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 尝试设置风扇转速&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> ! &lt;span class="nb">echo&lt;/span> &lt;span class="nv">$pwm&lt;/span> &amp;gt; &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$FAN_CONTROL&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;错误: 设置风扇转速失败: &lt;/span>&lt;span class="nv">$pwm&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &amp;gt;&amp;gt; &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LOG_FILE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 主循环&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> true&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 获取CPU温度&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">TEMP&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>get_temp&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$?&lt;/span> -ne &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 温度读取失败，使用保守的风扇设置&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;警告: 温度读取失败，使用默认风扇设置&amp;#34;&lt;/span> &amp;gt;&amp;gt; &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LOG_FILE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> set_fan_speed &lt;span class="m">150&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sleep &lt;span class="nv">$NORMAL_INTERVAL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 根据温度设置检测间隔&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">((&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;gt;= &lt;/span>&lt;span class="nv">$TEMP_THRESHOLD&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> bc -l&lt;span class="k">)&lt;/span> &lt;span class="o">))&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">sleep_interval&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$HIGH_TEMP_INTERVAL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">sleep_interval&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$NORMAL_INTERVAL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 设置目标风扇转速&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">((&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;lt; 30&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> bc -l&lt;span class="k">)&lt;/span> &lt;span class="o">))&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">target_pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$MIN_PWM&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="o">((&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;gt;= 30 &amp;amp;&amp;amp; &lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;lt; 35&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> bc -l&lt;span class="k">)&lt;/span> &lt;span class="o">))&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">target_pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">85&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="o">((&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;gt;= 35 &amp;amp;&amp;amp; &lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;lt; 40&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> bc -l&lt;span class="k">)&lt;/span> &lt;span class="o">))&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">target_pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">120&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="o">((&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;gt;= 40 &amp;amp;&amp;amp; &lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;lt; 45&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> bc -l&lt;span class="k">)&lt;/span> &lt;span class="o">))&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">target_pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">150&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="o">((&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;gt;= 45 &amp;amp;&amp;amp; &lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;lt; 50&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> bc -l&lt;span class="k">)&lt;/span> &lt;span class="o">))&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">target_pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">180&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="o">((&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;gt;= 50 &amp;amp;&amp;amp; &lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;lt; 55&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> bc -l&lt;span class="k">)&lt;/span> &lt;span class="o">))&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">target_pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">200&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="o">((&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;gt;= 55 &amp;amp;&amp;amp; &lt;/span>&lt;span class="nv">$TEMP&lt;/span>&lt;span class="s2"> &amp;lt; 60&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> bc -l&lt;span class="k">)&lt;/span> &lt;span class="o">))&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">target_pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">225&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">target_pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$MAX_PWM&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 平滑过渡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$target_pwm&lt;/span> -gt &lt;span class="nv">$current_pwm&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">current_pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$((&lt;/span> current_pwm &lt;span class="o">+&lt;/span> &lt;span class="m">8&lt;/span> &lt;span class="k">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$target_pwm&lt;/span> -lt &lt;span class="nv">$current_pwm&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">current_pwm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$((&lt;/span> current_pwm &lt;span class="o">-&lt;/span> &lt;span class="m">3&lt;/span> &lt;span class="k">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 确保PWM值在有效范围内并设置风扇转速&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> ! set_fan_speed &lt;span class="nv">$current_pwm&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;错误: 风扇控制失败，等待下次尝试&amp;#34;&lt;/span> &amp;gt;&amp;gt; &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LOG_FILE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sleep &lt;span class="nv">$NORMAL_INTERVAL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 记录日志，同时检查日志文件大小&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">log_size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>stat -f %z &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LOG_FILE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> 2&amp;gt;/dev/null &lt;span class="o">||&lt;/span> &lt;span class="nb">echo&lt;/span> 0&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$log_size&lt;/span> -gt &lt;span class="m">10485760&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span> &lt;span class="c1"># 10MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> mv &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LOG_FILE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">LOG_FILE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">.old&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> touch &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LOG_FILE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>date &lt;span class="s1">&amp;#39;+%Y-%m-%d %H:%M:%S&amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2"> - Temp: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">TEMP&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">°C, PWM: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">current_pwm&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">, Interval: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">sleep_interval&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">s&amp;#34;&lt;/span> &amp;gt;&amp;gt; &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LOG_FILE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 使用trap捕获信号&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">trap&lt;/span> &lt;span class="s1">&amp;#39;echo &amp;#34;收到终止信号，设置风扇为默认值并退出...&amp;#34;; set_fan_speed 150; exit 0&amp;#39;&lt;/span> SIGTERM SIGINT
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sleep &lt;span class="nv">$sleep_interval&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>VScode进入报错code 9, signal null error</title><link>/p/vscode-code-9-error/</link><pubDate>Fri, 16 Aug 2024 10:07:54 +0800</pubDate><guid>/p/vscode-code-9-error/</guid><description>&lt;p>进入 Vscode 时，出现报错&lt;br>
Unable to resolve your shell environment: Unexpected exit code from spawned shell (code 9, signal null)&lt;/p>
&lt;p>![image.png](&lt;a class="link" href="https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/202408161008789.png" target="_blank" rel="noopener"
>https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/202408161008789.png&lt;/a> =600x)&lt;/p>
&lt;p>查证go 和 go env 之后发现都没问题，最后注意到 ~/.bash_profile 中有这部分，确定造成报错的行是 &lt;strong>export NODE_OPTIONS=&amp;ndash;openssl-legacy-provider&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#node
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">export PATH=&amp;#34;/opt/homebrew/opt/node@20/bin:$PATH&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">export LDFLAGS=&amp;#34;-L/opt/homebrew/opt/node@20/lib:$LDFLAGS&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">export CPPFLAGS=&amp;#34;-I/opt/homebrew/opt/node@20/include:$CPPFLAGS&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">export NODE_OPTIONS=--openssl-legacy-provider
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用vi编辑或者是使用其他文本编辑器打开 .bash_profile 文件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">vi ~/.bash_profile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">按i进入编辑模式
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">找到export NODE_OPTIONS=--openssl-legacy-provider 所在行
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">在 export NODE_OPTIONS=--openssl-legacy-provider 前加#
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">最后那行变成
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#export NODE_OPTIONS=--openssl-legacy-provider
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">再按 esc 退出编辑模式
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">:wq!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">然后回车
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果不会使用 vi 可以直接终端执行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cd $HOME &amp;amp; open .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后用喜欢的文本编辑器打开.bash_profile 更改所在行&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/202409101100157.png"
loading="lazy"
alt="image.png"
>&lt;/p>
&lt;p>将NODE_OPTIONS 注释掉后，重新进入 VScode 解决&lt;/p></description></item><item><title>大善人 AI 食用指南</title><link>/p/cloudflare-worker-ai/</link><pubDate>Mon, 12 Aug 2024 14:24:33 +0800</pubDate><guid>/p/cloudflare-worker-ai/</guid><description>&lt;p>大善人 AI 食用指南&lt;/p>
&lt;p>登录之后，打开
&lt;a class="link" href="https://dash.cloudflare.com/" target="_blank" rel="noopener"
>https://dash.cloudflare.com/&lt;/a> ,保存/之后的字符串为 accountId&lt;/p>
&lt;p>再打开
&lt;a class="link" href="https://dash.cloudflare.com/profile/api-tokens" target="_blank" rel="noopener"
>https://dash.cloudflare.com/profile/api-tokens&lt;/a>
&lt;img src="https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/202408121425957.png"
loading="lazy"
alt="image.png"
>
&lt;img src="https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/202408121427156.png"
loading="lazy"
alt="image.png"
>&lt;/p>
&lt;p>这一步完成后会看到如下图，保存好自己的 Workers AI API token&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 用户 API 令牌
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#### Workers AI API 令牌已成功创建
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">复制此令牌以访问 Cloudflare API。为安全起见，将不再显示此令牌。
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后去 one-api 添加新渠道
&lt;img src="https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/202408121433758.png"
loading="lazy"
alt="image.png"
>&lt;/p>
&lt;p>添加完成后即可进行测试，后续可以再 next-chatgpt中直接使用
&lt;img src="https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/202408121436437.png"
loading="lazy"
alt="image.png"
>&lt;/p></description></item><item><title>七月随感</title><link>/p/thinking-in-july/</link><pubDate>Mon, 22 Jul 2024 23:52:31 +0800</pubDate><guid>/p/thinking-in-july/</guid><description>&lt;p>近期父母和弟弟都来上海，此行目的有两个，一是给父母做体检复查，二是给弟弟做眼睛手术。&lt;/p>
&lt;p>看着已经年迈的父母，心里有些许不是滋味，不知道身为长子，有些地方我做的是否不妥。父母都年事已高，可弟弟还毫不懂事，这次在未经过父母完全同意的情况下，直接从母亲手机里转钱买了 IPhone14plus ,在我看来无异于偷。或许是因为我小时候有过类似的经历，小学时从家里偷拿钱断断续续有半年，在某天也不知是被同学告发还是被父母发现，总之最后换来一顿毒打，所以对这次的事情才更为重视。人总是要为自己的行为负责，无论是父母或者是当事者本人。&lt;/p>
&lt;p>最近天气炎热，已经连续三天高温橙色预警，确实也没心思陪着父母在外面闲逛，之前来的两次，能玩能去的地方几乎已经去的差不多了，所以这次没有单独请假陪他们，只是让他们白天在家休息，晚上陪他们逛逛。客观来讲，我觉得这次我做的一般，行为上或许说的过去，妻子安排酒店，我们给父亲过生日，带他们出去逛圈溜达，但是在内心深处，总是在说父母和弟弟不沟通，不多问，想当然，有的时候也有一种哀其不幸怒其不争的感觉；或许有点夸张，但是看着弟弟的时候，总觉得完全不懂事，又呆头呆脑，问的问题大多都是废话比如这个灯是在哪，那个是在哪，这个皮搋子是通马桶还是通下水道的，理解能力有问题还不认真听。我在想或许自己 18 岁的时候，也是这样？ 又或者比他更甚。&lt;/p>
&lt;p>看见弟弟和父亲坐着躺着的姿势千奇百怪，而我每次说他们的语气总是特别冷淡，像是针对谁，希望他们不要介意，套用许多年前的话，我也是为了你们好😁。总是希望在有限的时间内教会弟弟为人处事生存之道，可是确实我说的似乎他都没认真听，我所说所做的成效甚微，大概是我方法不对，还需要针对性练习把。&lt;/p>
&lt;p>我很努力的想要维持一个平衡，既不想因为说的话太重而影响母亲的心情，又想要通过温和的语言达到我心中所想的效果，每次说的时候总是想这样会不会不好？ 有没有更好更委婉的措辞？ 这样的方式实在过于内耗，妈妈和姨妈都是一类人，容易想很多的人，或许做生意的人都这样把，在这方面我也就和弟弟一样呆头呆脑。&lt;/p>
&lt;p>我努力在做一个好儿子，不过仍然还有很多需要向妻子学习的。以后要继续加油努力了，肩上的责任和担子会越来越重。希望我的孩子我能教育好，也希望他/她能成为一个有责任心，有同理心，正直，乐观，积极的人。&lt;/p></description></item><item><title>常用软件推荐</title><link>/p/recommend-hot-software/</link><pubDate>Sun, 07 Apr 2024 15:46:48 +0800</pubDate><guid>/p/recommend-hot-software/</guid><description>&lt;p>推荐一波MacOS 常用开发类软件，也为自己做一个备份，方便日后查找&lt;/p>
&lt;h2 id="开发工具类">开发工具类&lt;/h2>
&lt;ol>
&lt;li>jetbrain 全家桶 [[https://www.jetbrains.com/]] 非开源&lt;/li>
&lt;li>vscode &lt;a class="link" href="https://code.visualstudio.com/" target="_blank" rel="noopener"
>https://code.visualstudio.com/&lt;/a>&lt;/li>
&lt;li>curosr &lt;a class="link" href="https://cursor.sh/" target="_blank" rel="noopener"
>https://cursor.sh/&lt;/a>&lt;/li>
&lt;li>Another Redis Desktop Manager &lt;a class="link" href="https://github.com/qishibo/AnotherRedisDesktopManager" target="_blank" rel="noopener"
>https://github.com/qishibo/AnotherRedisDesktopManager&lt;/a>&lt;/li>
&lt;li>Navicat &lt;a class="link" href="https://www.navicat.com.cn/products#navicat-premium-lite" target="_blank" rel="noopener"
>https://www.navicat.com.cn/products#navicat-premium-lite&lt;/a> 官方免费版本，无需破解&lt;/li>
&lt;li>sublime text &lt;a class="link" href="https://www.sublimetext.com/" target="_blank" rel="noopener"
>https://www.sublimetext.com/&lt;/a>&lt;/li>
&lt;li>Docker &lt;a class="link" href="https://www.docker.com/" target="_blank" rel="noopener"
>https://www.docker.com/&lt;/a>&lt;/li>
&lt;li>DevToys &lt;a class="link" href="https://devtoys.app/" target="_blank" rel="noopener"
>https://devtoys.app/&lt;/a>&lt;/li>
&lt;li>EasyDevo &lt;a class="link" href="https://easydevo.boringboring.design/" target="_blank" rel="noopener"
>https://easydevo.boringboring.design/&lt;/a>&lt;/li>
&lt;/ol>
&lt;h2 id="实用工具类">实用工具类&lt;/h2>
&lt;ol>
&lt;li>安卓文件传输 &lt;a class="link" href="https://www.android.com/filetransfer/" target="_blank" rel="noopener"
>https://www.android.com/filetransfer/&lt;/a>&lt;/li>
&lt;li>Neat Download Manager &lt;a class="link" href="https://www.neatdownloadmanager.com/index.php/en/" target="_blank" rel="noopener"
>https://www.neatdownloadmanager.com/index.php/en/&lt;/a> 下载器&lt;/li>
&lt;li>Mounty &lt;a class="link" href="https://mounty.app/" target="_blank" rel="noopener"
>https://mounty.app/&lt;/a>&lt;/li>
&lt;li>keka &lt;a class="link" href="https://www.keka.io/en/" target="_blank" rel="noopener"
>https://www.keka.io/en/&lt;/a> 解压缩软件&lt;/li>
&lt;li>easydict &lt;a class="link" href="https://github.com/tisfeng/Easydict" target="_blank" rel="noopener"
>https://github.com/tisfeng/Easydict&lt;/a> 词典软件&lt;/li>
&lt;li>iina &lt;a class="link" href="https://iina.io/" target="_blank" rel="noopener"
>https://iina.io/&lt;/a> 全能视频播放器&lt;/li>
&lt;li>karabiner &lt;a class="link" href="https://karabiner-elements.pqrs.org/" target="_blank" rel="noopener"
>https://karabiner-elements.pqrs.org/&lt;/a> 按键修改&lt;/li>
&lt;li>monitor control &lt;a class="link" href="https://github.com/MonitorControl/MonitorControl" target="_blank" rel="noopener"
>https://github.com/MonitorControl/MonitorControl&lt;/a> 外接显示器亮度调节&lt;/li>
&lt;li>hidden bar &lt;a class="link" href="https://github.com/dwarvesf/hidden" target="_blank" rel="noopener"
>https://github.com/dwarvesf/hidden&lt;/a> 菜单折叠&lt;/li>
&lt;li>ToothFairy &lt;a class="link" href="https://apps.apple.com/us/app/toothfairy/id1191449274?mt=12" target="_blank" rel="noopener"
>https://apps.apple.com/us/app/toothfairy/id1191449274?mt=12&lt;/a> 窗口管理&lt;/li>
&lt;li>Mac Mouse Fix &lt;a class="link" href="https://macmousefix.com/" target="_blank" rel="noopener"
>https://macmousefix.com/&lt;/a> 鼠标平滑滚动&lt;/li>
&lt;li>PicList &lt;a class="link" href="https://github.com/Kuingsmile/PicList" target="_blank" rel="noopener"
>https://github.com/Kuingsmile/PicList&lt;/a> 图床工具&lt;/li>
&lt;li>Loop &lt;a class="link" href="https://github.com/MrKai77/Loop" target="_blank" rel="noopener"
>https://github.com/MrKai77/Loop&lt;/a> 窗口快捷放大缩小&lt;/li>
&lt;li>mos &lt;a class="link" href="https://github.com/Caldis/Mos" target="_blank" rel="noopener"
>https://github.com/Caldis/Mos&lt;/a> 鼠标平滑滚动利器&lt;/li>
&lt;li>ShortcutDetective &lt;a class="link" href="https://formulae.brew.sh/cask/shortcutdetective" target="_blank" rel="noopener"
>https://formulae.brew.sh/cask/shortcutdetective&lt;/a> 快捷键冲突排查软件&lt;/li>
&lt;li>Macs Fan Control &lt;a class="link" href="https://crystalidea.com/macs-fan-control" target="_blank" rel="noopener"
>https://crystalidea.com/macs-fan-control&lt;/a> 风扇转速调节&lt;/li>
&lt;/ol>
&lt;h2 id="效率类">效率类&lt;/h2>
&lt;ol>
&lt;li>alfred &lt;a class="link" href="https://www.alfredapp.com/" target="_blank" rel="noopener"
>https://www.alfredapp.com/&lt;/a> 非开源&lt;/li>
&lt;li>滴答清单 &lt;a class="link" href="https://dida365.com/" target="_blank" rel="noopener"
>https://dida365.com/&lt;/a>&lt;/li>
&lt;li>RayCast &lt;a class="link" href="https://www.raycast.com/" target="_blank" rel="noopener"
>https://www.raycast.com/&lt;/a> 免费神作，可以作为 alfred 的替代&lt;/li>
&lt;/ol>
&lt;h2 id="终端">终端&lt;/h2>
&lt;ol>
&lt;li>iTerm2 &lt;a class="link" href="https://iterm2.com/" target="_blank" rel="noopener"
>https://iterm2.com/&lt;/a> 终端&lt;/li>
&lt;li>SecureCRT &lt;a class="link" href="https://www.vandyke.com/products/securecrt/" target="_blank" rel="noopener"
>https://www.vandyke.com/products/securecrt/&lt;/a> 非开源&lt;/li>
&lt;li>lux &lt;a class="link" href="https://github.com/iawia002/lux" target="_blank" rel="noopener"
>https://github.com/iawia002/lux&lt;/a> 免费下载器&lt;/li>
&lt;li>Termius &lt;a class="link" href="https://termius.com/s" target="_blank" rel="noopener"
>https://termius.com/s&lt;/a> 免费终端&lt;/li>
&lt;li>htop &lt;a class="link" href="https://htop.dev/" target="_blank" rel="noopener"
>https://htop.dev/&lt;/a> 升级版 top&lt;/li>
&lt;/ol>
&lt;h2 id="网络类">网络类&lt;/h2>
&lt;ol>
&lt;li>lulu &lt;a class="link" href="https://objective-see.org/products/lulu.html" target="_blank" rel="noopener"
>https://objective-see.org/products/lulu.html&lt;/a>&lt;/li>
&lt;/ol>
&lt;h2 id="chrome-插件">Chrome 插件&lt;/h2>
&lt;ol>
&lt;li>Proxy SwitchOmega &lt;a class="link" href="https://chromewebstore.google.com/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif" target="_blank" rel="noopener"
>https://chromewebstore.google.com/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif&lt;/a>&lt;/li>
&lt;li>ZeroOmega &lt;a class="link" href="https://chromewebstore.google.com/detail/zeroomega-proxy-switchy-m/pfnededegaaopdmhkdmcofjmoldfiped" target="_blank" rel="noopener"
>https://chromewebstore.google.com/detail/zeroomega-proxy-switchy-m/pfnededegaaopdmhkdmcofjmoldfiped&lt;/a>&lt;/li>
&lt;li>Adblock Plus &lt;a class="link" href="https://chromewebstore.google.com/detail/adblock-plus-%E5%85%8D%E8%B4%B9%E7%9A%84%E5%B9%BF%E5%91%8A%E6%8B%A6%E6%88%AA%E5%99%A8/cfhdojbkjhnklbpkdaibdccddilifddb" target="_blank" rel="noopener"
>https://chromewebstore.google.com/detail/adblock-plus-%E5%85%8D%E8%B4%B9%E7%9A%84%E5%B9%BF%E5%91%8A%E6%8B%A6%E6%88%AA%E5%99%A8/cfhdojbkjhnklbpkdaibdccddilifddb&lt;/a>&lt;/li>
&lt;li>简阅 &lt;a class="link" href="https://simpread.pro/" target="_blank" rel="noopener"
>https://simpread.pro/&lt;/a>&lt;/li>
&lt;li>Simple Allow Copy &lt;a class="link" href="https://chrome.google.com/webstore/detail/aefehdhdciieocakfobpaaolhipkcpgc" target="_blank" rel="noopener"
>https://chrome.google.com/webstore/detail/aefehdhdciieocakfobpaaolhipkcpgc&lt;/a>&lt;/li>
&lt;li>XSwitch &lt;a class="link" href="https://chrome.google.com/webstore/detail/idkjhjggpffolpidfkikidcokdkdaogg" target="_blank" rel="noopener"
>https://chrome.google.com/webstore/detail/idkjhjggpffolpidfkikidcokdkdaogg&lt;/a>&lt;/li>
&lt;li>Axure RP &lt;a class="link" href="https://chrome.google.com/webstore/detail/dogkpdfcklifaemcdfbildhcofnopogp" target="_blank" rel="noopener"
>https://chrome.google.com/webstore/detail/dogkpdfcklifaemcdfbildhcofnopogp&lt;/a>&lt;/li>
&lt;li>沉浸式翻译 &lt;a class="link" href="https://immersivetranslate.com/zh-Hans/" target="_blank" rel="noopener"
>https://immersivetranslate.com/zh-Hans/&lt;/a>&lt;/li>
&lt;li>Save All Resourcese &lt;a class="link" href="https://chromewebstore.google.com/detail/save-all-resources/abpdnfjocnmdomablahdcfnoggeeiedb?pli=1" target="_blank" rel="noopener"
>https://chromewebstore.google.com/detail/save-all-resources/abpdnfjocnmdomablahdcfnoggeeiedb?pli=1&lt;/a> 扒网站插件&lt;/li>
&lt;/ol>
&lt;h2 id="推荐网站">推荐网站&lt;/h2>
&lt;p>&lt;a class="link" href="https://wangchujiang.com/awesome-mac/README-zh.html" target="_blank" rel="noopener"
>https://wangchujiang.com/awesome-mac/README-zh.html&lt;/a>&lt;/p></description></item><item><title>摘抄少数派-重新认识日记</title><link>/p/rediscover-notes/</link><pubDate>Fri, 08 Mar 2024 08:00:00 +0800</pubDate><guid>/p/rediscover-notes/</guid><description>&lt;blockquote>
&lt;p>本文由 &lt;a class="link" href="http://ksria.com/simpread/" target="_blank" rel="noopener"
>简悦 SimpRead&lt;/a> 转码， 原文地址 &lt;a class="link" href="https://sspai.com/post/86356" target="_blank" rel="noopener"
>sspai.com&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>我们的世界看似雷打不动，但只要找准位置，轻轻一触，它就有可能发生倾斜。而日记，就是那个撬动世界的支点，请你务必一试。&lt;/p>
&lt;/blockquote>
&lt;p>大多数人对日记的印象，可能还停留在小学老师对我们写日记的要求上。交差、流水账或许是大多数人对日记的看法，这导致我们以一种完成任务的心态被动记录。久而久之，大部分人没有感知到日记带来的好处，就更别提养成写日记的习惯了。&lt;/p>
&lt;p>但今天我想告诉你，写日记将会影响你的选择，重塑你的观念，甚至彻底改变你的人生，你信吗？只要按照正确的方式记日记，你的生活将发生难以置信的变化。&lt;/p>
&lt;p>我并没有在开玩笑，要解答日记为什么能发挥这么大的价值，我在此总结日记的三种作用，分别为：回顾过去，理清情绪和思维，以及做出正确选择。&lt;/p>
&lt;h2 id="日记的作用">日记的作用&lt;/h2>
&lt;h3 id="回顾过去">回顾过去&lt;/h3>
&lt;p>打开你的手机相册 app，大多数都自带「那年今日」的回忆功能。这个功能让我们记起去年某个时候，自己正在干什么。日记也是如此，当我们写日记时，就是为过去留下痕迹。&lt;/p>
&lt;p>频繁地回顾和翻看过去，有助于培养我们对自己人生全貌的认识。&lt;/p>
&lt;p>回看日记时，我现在还能找到 5 年前自己第一次工作时的感受，我在里面详细地记录了当时的心情、感觉，对未来的规划。&lt;/p>
&lt;p>我可以看到自己曾被什么问题困扰，又怎么解决；取得了什么成就，碰到了什么麻烦。&lt;/p>
&lt;p>&lt;img src="https://cdn.sspai.com/2024/02/06/02520868dd52ec6645a57e47ddf49bf8.png"
loading="lazy"
>辞职当天留下来的简短日记&lt;/p>
&lt;p>人生是一连串的选择组成的，当我们回看过去的内容时，我们就能知道当时的选择如何塑造了当下的我们，当一切的点滴串联成线，我们就会更好地理解自己和自己的选择，这也是苏格拉底所说「认识你自己」的第一步。&lt;/p>
&lt;h3 id="消除恐惧理清情绪和思考">消除恐惧，理清情绪和思考&lt;/h3>
&lt;p>无论是《认知觉醒》还是《晨间日记的奇迹》，都有意无意地指出了这么一个事实：&lt;/p>
&lt;p>&lt;strong>大脑偏好消极的想法，而且会寻找各种线索来佐证它。&lt;/strong>&lt;/p>
&lt;p>如果你是个低能量的人，总是在想「我是个糟糕的家伙」，大脑就会迅速寻找相关的证据来佐证你的猜测，当恐惧和回避的情绪进入潜意识，会导致你在负面的情绪中越陷越深，甚至无法自拔。&lt;/p>
&lt;p>将自己的想法写在纸上，你就会很轻易地看到大脑是如何蛊惑你的。事实上，当你集中地把自己的想法诉诸纸上，大脑的恐吓就会瞬间失效。&lt;/p>
&lt;p>因为书写需要调用理性思维，当书写动作的优先级高于情绪，大脑皮层的语言区和书写区开始接管主体，负面情绪便会得到缓冲。&lt;/p>
&lt;p>《开放心胸》的作者杰米 · 彭尼贝克通过幸福实验也发现，运用书写来表达自己情绪的人更加健康。&lt;/p>
&lt;p>这个练习很适合那些容易内耗和自我怀疑的人，记日记可以帮你迅速出离这种状态，塑造一个更加积极和自信的自己&lt;/p>
&lt;h3 id="做出选择">做出选择&lt;/h3>
&lt;p>毫无疑问，如果要评选日记最大的作用，那一定是：日记可以影响我们的选择，并最终改变我们的生活。&lt;/p>
&lt;p>《习惯的力量》中有一句话为人所熟知：思想决定行为，行为决定习惯，习惯决定性格，性格决定命运。&lt;/p>
&lt;p>日记是在这之间的哪一环发生作用的？答案是思想。&lt;/p>
&lt;p>日记把我们的目光瞄向了此前一直被忽略的东西：时间和决策。看看你的日常，每一天似乎周而复始，永恒不变。可我们没有发现的是，我们总在重复错误的观念跟行为。&lt;/p>
&lt;p>你可以用这 2 个问题来验证，今天有没有比昨天更好：&lt;/p>
&lt;ol>
&lt;li>今天做了什么，有比昨天更好吗？&lt;/li>
&lt;li>今天做的事离我要达成的目标更进一步了吗？&lt;/li>
&lt;/ol>
&lt;p>注意，在这一步，我们只是如实地记录自己的想法和决策而已，你不需要为此感到自责，你可以只是看看，什么也不改变也没关系。&lt;strong>重要的是如实地记录&lt;/strong>，哪怕只是将一天的行为记录下来，接下来的行动也会有意识地发生改变，这就是日记的神奇之处。&lt;/p>
&lt;p>它会迫使你把目光转向真正重要的地方，那些原来被浪费的、被忽略的感受、情绪和行为，会在一日又一日的反思中，逐渐露出马脚。&lt;/p>
&lt;h2 id="记录日记的方法和时间">记录日记的方法和时间&lt;/h2>
&lt;p>了解日记的作用后，下一个问题自然是怎样去写日记，或者说写哪些内容。&lt;/p>
&lt;p>我将会按照从易到难的顺序，简要介绍三种记录日记的方法。这里顺带说一下记录日记的时间，很多人会建议在一天结束的时候，但以我的个人经验，这时候不仅人很疲惫，而且会很情绪化，如果还要打开电脑或手机记录自己的想法，内心一定是抵触的。&lt;/p>
&lt;p>因此我一般建议在第二天的早上把这件事做完，这个时候的大脑清醒而饱满，花 10 分钟左右的时间把日记写完，效果会比晚上好很多。&lt;/p>
&lt;h3 id="第一个层次记录发生的事">第一个层次：记录发生的事&lt;/h3>
&lt;p>所有新手在记日记时都会做的一件事，就是把一天发生的事都记录下来。&lt;/p>
&lt;p>但现实中，如果真的把一天事无巨细地记录下来，恐怕三页纸都不够写的。&lt;/p>
&lt;p>在这一步，你应该有选择性地挑选那些对你来说有意义的事情。例如：&lt;/p>
&lt;ul>
&lt;li>新学的技能或是新认识的人&lt;/li>
&lt;li>完成了什么成就（哪怕很小也可以，例如吃了早饭，起床早）&lt;/li>
&lt;li>昨天对你影响最深刻的一件事是什么，为什么？&lt;/li>
&lt;li>有哪些事情引起了你的情绪波动&lt;/li>
&lt;/ul>
&lt;p>重点在于不要记流水账，而是要着重记录那些对你有触动，能引发思考的事情。&lt;/p>
&lt;p>哪怕是一件让你觉得难过 / 开心的事情，只要引起了你的情绪波动，或是让你对生活有了新的思考都可以。&lt;/p>
&lt;p>能做到这部分内容，第一个层次的记录就算完成了。&lt;/p>
&lt;h3 id="第二个层次记录思想跟情绪">第二个层次：记录思想跟情绪&lt;/h3>
&lt;p>在这个阶段，我最喜欢 3 种记录日记的方式，分别是「情绪日记」「感激日记」和「成就日记」&lt;/p>
&lt;h4 id="情绪日记">情绪日记&lt;/h4>
&lt;p>情绪日记，就是把那些引起我们情绪波动的事情记录下来，并解释为什么会引起我们的情绪波动。&lt;/p>
&lt;p>例如你即将上台演讲，为此感到紧张和恐惧。在你的日记本中就可以这样开头：&lt;/p>
&lt;blockquote>
&lt;p>我现在感到惶恐不安，感到紧张、害怕，因为我即将上台参加一场很重要的演讲，如果表现差劲的话，我就要在众人面前出丑了&amp;hellip;&lt;/p>
&lt;/blockquote>
&lt;p>如果你为一个决定感到懊悔，开头可能就是这样的：&lt;/p>
&lt;blockquote>
&lt;p>昨天不该在沙发上瘫坐一天，因为重要的事还没做完，最后我既没有享受到放松的愉快，也没有解决相应的问题，还给自己带来了很多无形的压力&amp;hellip;&lt;/p>
&lt;/blockquote>
&lt;p>像这样，将内心的真实想法吐露出来，不要闷在脑海里，将你的担心和恐惧如实地写在纸上或屏幕上。&lt;/p>
&lt;blockquote>
&lt;p>《认知觉醒》里谈到：&lt;/p>
&lt;p>真正的困难总比想象的要小很多。人们拖延、纠结、害怕的根本原因往往不是事情本身有多难，而是内心的想法变得模糊。&lt;/p>
&lt;p>而具体事件一旦变得模糊，其边界就会无限扩大，原本并不困难的小事，也会在模糊的潜意识里变得难以解决。&lt;/p>
&lt;/blockquote>
&lt;p>要破除这种壁障，就要揪出模糊的意识，使其变得清晰，你可以按以下 3 个问题顺序向自己提问：&lt;/p>
&lt;blockquote>
&lt;p>我此刻害怕的事情是什么？为什么让我感到害怕？&lt;/p>
&lt;p>关于这件事，我能做什么？&lt;/p>
&lt;p>如果没做好，最坏的结果是什么？&lt;/p>
&lt;/blockquote>
&lt;p>无论多么难以启齿的问题，都诚实地将它反映出来，当你写在纸上后，神奇的事情就发生了——你会发现困扰自己的问题，并没有自己想象的那么严重，自己的想法也仅仅是想法而已。这股力量会迫使你的大脑冷静下来，所有恐吓的幻象便消失不见了。&lt;/p>
&lt;p>恐惧就是这样，你越逃避，它越强大；你直面恐惧，它就越弱小。&lt;/p>
&lt;p>情绪日记尤其适合那些经常否定自己，想法敏感，自我价值感低的人。它会帮助你梳理自己的情绪，并消除大多数的负面情绪，正确认识自己。&lt;/p>
&lt;h4 id="感激日记">感激日记&lt;/h4>
&lt;p>感激日记就是记录下那些让你感激的人和事。&lt;/p>
&lt;p>比如有一天我在感激日记中写下的内容是：&lt;/p>
&lt;p>感谢我的朋友，在关键时刻对我的接济，他们既慷慨又大方，帮我度过了最艰难的时刻。&lt;/p>
&lt;p>感谢我的恋人，我们一直关系融洽，对彼此真诚。&lt;/p>
&lt;p>感谢我的父母，支持我的选择，为我营造了心无旁骛的环境。&lt;/p>
&lt;p>感激日记会帮助我们把注意力转向积极的层面，并意识到那些被我们忽略的美好和感受。&lt;/p>
&lt;p>2017 年《幸福研究期刊》上有这样一项研究，他们招募了 91 位参与者，分为「感恩日记组」和「日常组」，前者要写下自己感恩的人或事，后者作为对照组，只记录一天做了什么。结果发现，写感恩日记组的人给自己的幸福评分更高。这背后的理论是，&lt;strong>我们选择去关心什么事物，极大地影响了我们对生活的主观体验&lt;/strong>。&lt;/p>
&lt;p>只要试着想一想现在最让自己感到幸福和感激的事，我们就会感受到更多正面情绪，心态也更健康，把目光瞄向积极的层面，关注更多积极的层面会帮助我们把事情办好，感到更多的活力和积极情绪，形成正向循环。&lt;/p>
&lt;p>乔丹 · 彼得森在《人生十二法则》里也谈到：&lt;/p>
&lt;blockquote>
&lt;p>如果你抱着感恩之心看待传统、国家、日常生活中的小事和令人惊叹的成就，那么你对自我和人类的仇恨就能得到平息。&lt;/p>
&lt;/blockquote>
&lt;h4 id="成就日记">成就日记&lt;/h4>
&lt;p>成就日记的概念来源于《小狗钱钱》，赚钱高手马克跟吉娅分享财富秘诀时，是这样说的：准备一个本子，叫「成功日记」，把所有做成功的事情记录进去。你最好每天都做这件事，每次都写至少 5 条你的个人成果，任何小事都可以。&lt;/p>
&lt;p>这件事对你来说也是如此，每天记录 5 件最让自己感到自豪的事情，无论什么都可以，哪怕是很小的事。&lt;/p>
&lt;p>比如我在一天记录的 5 件成就分别是：&lt;/p>
&lt;ol>
&lt;li>拒绝了 4 缺 1 的开黑请求（以前我觉得永远不可能拒绝）&lt;/li>
&lt;li>无畏恐惧，去医院把痛了很久的牙齿拔了&lt;/li>
&lt;li>完成了 1 个小时的阅读&lt;/li>
&lt;li>用 playgrounds 编程闯过了 7、8 关&lt;/li>
&lt;li>把厨房拖了一遍，干干净净&lt;/li>
&lt;/ol>
&lt;p>你看，我记录的事情并非是什么大成就，它们与我而言，只是一件件微不足道的小事，但随着时间的堆积，你渐渐能做到更多，并记录更多，积累很多意想不到的收获。&lt;/p>
&lt;p>刚开始时，每天就记一两件事情也足够了，重要的是形成习惯，并且常看常记。&lt;/p>
&lt;p>每天书写这样的日记，并且不时地回顾，尤其适合建立自信，发现自己的闪光点，唤起更多的自信跟动力。&lt;/p>
&lt;p>更多的自信和动力会焕发更多的积极情绪，让我们去尝试做以前那些从来不敢尝试的东西。&lt;/p>
&lt;h3 id="第三个层次记录自己的选择和目标">第三个层次：记录自己的选择和目标&lt;/h3>
&lt;p>到了第 3 个层次，也是对我们影响最深的层次，我们要记录一天做下了哪些选择，并&lt;strong>在撰写日记的过程中，尝试将自己当时的想法和情景还原出来。&lt;/strong>&lt;/p>
&lt;p>你可以写写为什么自己会做出这个决定，这个决定能够引导你过上想要的生活吗？如果不能，你应该怎么做；如果能，你觉得哪里还有提升的空间？怎样才能做得更好一些？&lt;/p>
&lt;p>特别注意平常养成的习惯，翻看日记时，你能看到相似的模式总在频繁地上演，这很好理解，预测一个人未来的最好方式就是看他过去重复的动作。&lt;/p>
&lt;p>如果你意识到这个习惯并不好，就应该想想怎么改进，以及多问自己，为什么会这样想，是不是可以换一种方法？&lt;/p>
&lt;p>在 Ali Abdaal 的视频中，他分享了自己最喜欢的一种日记组织形式：面对恐惧。在担心自己被束缚的时候，特别管用，你可以问自己以下 5 个问题：&lt;/p>
&lt;ol>
&lt;li>如果我去做了害怕的事，最糟糕的结果是什么？&lt;/li>
&lt;li>我可以做什么来防止那些坏事发生？&lt;/li>
&lt;li>如果最坏的情况发生了，我能做什么来修复它？&lt;/li>
&lt;li>如果我试过了甚至取得了小小的成功，那我会得到什么好处&lt;/li>
&lt;li>如果我害怕的事情一直不做，半年、一年、三年后将会发生什么？&lt;/li>
&lt;/ol>
&lt;p>这确实会让人有些压力，但仔细花 10 分钟的时间想想，却有可能彻底改变你的生活，因为当你硬着头皮把这些答案写出来时，恐惧就不再变得模糊，你会清晰地看到结果，并知道自己将承担怎样的责任，而不是逃避问题，对其视而不见。&lt;/p>
&lt;p>一个不为人知的事实是，&lt;strong>我们其实一直都知道自己应该做什么，只不过一直在拖延而已。&lt;/strong>&lt;/p>
&lt;p>亚历克斯 · 霍尔莫兹 提出的「所罗门悖论」就是这样一种情况：所罗门王特别擅长给别人提供建议，但他自己的生活却是一团糟。&lt;/p>
&lt;p>当人们不知道他们正在讨论的是自己的情况时，他们总能给出更好的建议，如果你把自己的建议听进去了，你会过得好得多。&lt;/p>
&lt;p>试着把问题抛给 85 岁的自己，向他寻求帮助，如果是 85 岁的你，将会给出什么建议，对于现在的恐惧，又会怎么看？如果你能这样想的话，就会发现，生命中更多是无关紧要的小事，你现在担心的一切可能都没有你想象的那么严重，享受过程就好。&lt;/p>
&lt;h2 id="写在最后">写在最后&lt;/h2>
&lt;p>看到这里，你可能会觉得，如果每天都要把这么多日记都写一遍，那也太累了，自己根本没有时间。&lt;/p>
&lt;p>事实上，我们不需要每天都把所有的流程过一遍，只需要着重挑选那些对我们影响较大的事情，记录下来就好，每天花大约 10-15 分钟的时间就已经足够。&lt;/p>
&lt;p>随着科技和媒体的发展，关于这个世界的外部信息我们触手可及，可关于自己，却从来没有好好了解过。&lt;/p>
&lt;p>伟大的哲学家尼采说过一句很精彩的话：「一个人知道自己为什么而活，就可以忍受任何一种生活。」&lt;/p>
&lt;p>正如乔丹 · 彼得森在《人生十二法则》所说：&lt;/p>
&lt;blockquote>
&lt;p>你需要放眼未来，想想看如果你认真照顾自己，未来会是什么样，应该如何选择职业生涯，才能成为一个有价值、有益于社会的人。当我在有时间和精力的时候，应该如何改善我的健康，拓展我的学识，强健我的体魄，你首先需要知道自己在哪里，才能规划好之后的路线，你需要先知道自己是谁，才能平衡好自己的优缺点；你需要先知道自己想去哪里，才能控制生活的混乱程度，重建秩序。&lt;/p>
&lt;/blockquote>
&lt;p>我们的世界看似雷打不动，但只要找准位置，轻轻一触，它就有可能发生倾斜。而日记，就是那个撬动世界的支点，请你务必一试。&lt;/p>
&lt;p>&lt;strong>参考资料：&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1bN4y1v7E3/?spm_id_from=888.82037.embed&amp;amp;t=35&amp;amp;vd_source=ca2aae2d6ce64960a7f506602fbf9a00" target="_blank" rel="noopener"
>Ali Abdaal - ✍️改变人生的 3 种日记写法｜日记改变人生的底层逻辑，以及 5 个简单的日记练习方法&lt;/a>&lt;/li>
&lt;li>《晨间日记的奇迹》佐藤傅&lt;/li>
&lt;li>《认知觉醒》周岭&lt;/li>
&lt;li>《人生十二法则》乔丹 · 彼得森&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>关注 &lt;a class="link" href="https://sspai.com/link?target=https%3A%2F%2Fwww.xiaohongshu.com%2Fuser%2Fprofile%2F63f5d65d000000001001d8d4" target="_blank" rel="noopener"
>少数派小红书&lt;/a>，感受精彩数字生活 🍃&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>实用、好用的 &lt;a class="link" href="https://sspai.com/mall" target="_blank" rel="noopener"
>正版软件&lt;/a>，少数派为你呈现🚀%% %%&lt;/p>
&lt;/blockquote></description></item><item><title>hugo+obsidian打造最强博客（一）</title><link>/p/hugo-obsidian-stagic-blog1/</link><pubDate>Tue, 20 Feb 2024 16:27:01 +0800</pubDate><guid>/p/hugo-obsidian-stagic-blog1/</guid><description>&lt;h2 id="笔记软件选择原则">笔记软件选择原则&lt;/h2>
&lt;ol>
&lt;li>拒绝云服务，数据留存本地，本机运行，使用github/gitee 私仓来进行笔记储存&lt;/li>
&lt;li>拒绝专有格式，使用通用的标记型语言&lt;/li>
&lt;li>开源&lt;/li>
&lt;li>跨平台&lt;/li>
&lt;/ol>
&lt;h2 id="本地笔记格式选择">本地笔记格式选择&lt;/h2>
&lt;p>这个自是不必多说，首选MarkDown格式，方便各类软件编辑，关于此格式，参见wiki &lt;a class="link" href="https://zh.wikipedia.org/wiki/Markdown" target="_blank" rel="noopener"
>https://zh.wikipedia.org/wiki/Markdown&lt;/a>&lt;/p>
&lt;p>&lt;strong>Markdown&lt;/strong>是一种&lt;a class="link" href="https://zh.wikipedia.org/wiki/%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80" title="轻量级标记语言"
target="_blank" rel="noopener"
>轻量级标记语言&lt;/a>，创始人为&lt;a class="link" href="https://zh.wikipedia.org/wiki/%E7%B4%84%E7%BF%B0%C2%B7%E6%A0%BC%E9%AD%AF%E4%BC%AF" title="约翰·格鲁伯"
target="_blank" rel="noopener"
>约翰·格鲁伯&lt;/a>。它允许人们使用易读易写的纯文本格式编写文档，然后转换成有效的&lt;a class="link" href="https://zh.wikipedia.org/wiki/XHTML" target="_blank" rel="noopener"
>XHTML&lt;/a>（或者&lt;a class="link" href="https://zh.wikipedia.org/wiki/HTML" title="HTML"
target="_blank" rel="noopener"
>HTML&lt;/a>）文档。&lt;a class="link" href="https://zh.wikipedia.org/wiki/Markdown#cite_note-md-4" target="_blank" rel="noopener"
>[4]&lt;/a>这种语言吸收了很多在&lt;a class="link" href="https://zh.wikipedia.org/wiki/%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6" title="电子邮件"
target="_blank" rel="noopener"
>电子邮件&lt;/a>中已有的纯文本标记的特性。&lt;/p>
&lt;p>由于Markdown的轻量化、易读易写特性，并且对于图片，图表、数学式都有支持，目前许多网站都广泛使用Markdown来撰写帮助文档或是用于&lt;a class="link" href="https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E8%AE%BA%E5%9D%9B" title="网络论坛"
target="_blank" rel="noopener"
>论坛&lt;/a>上发表消息。如&lt;a class="link" href="https://zh.wikipedia.org/wiki/GitHub" title="GitHub"
target="_blank" rel="noopener"
>GitHub&lt;/a>、&lt;a class="link" href="https://zh.wikipedia.org/wiki/Reddit" title="Reddit"
target="_blank" rel="noopener"
>Reddit&lt;/a>、&lt;a class="link" href="https://zh.wikipedia.org/wiki/Discord" title="Discord"
target="_blank" rel="noopener"
>Discord&lt;/a>、&lt;a class="link" href="https://zh.wikipedia.org/wiki/Diaspora_%28%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%29" title="Diaspora (社交网络)"
target="_blank" rel="noopener"
>Diaspora&lt;/a>、&lt;a class="link" href="https://zh.wikipedia.org/wiki/Stack_Exchange" title="Stack Exchange"
target="_blank" rel="noopener"
>Stack Exchange&lt;/a>、&lt;a class="link" href="https://zh.wikipedia.org/wiki/OpenStreetMap" title="OpenStreetMap"
target="_blank" rel="noopener"
>OpenStreetMap&lt;/a> 、&lt;a class="link" href="https://zh.wikipedia.org/wiki/SourceForge" title="SourceForge"
target="_blank" rel="noopener"
>SourceForge&lt;/a>、&lt;a class="link" href="https://zh.wikipedia.org/wiki/%E7%AE%80%E4%B9%A6" title="简书"
target="_blank" rel="noopener"
>简书&lt;/a>等，甚至还能被用来撰写&lt;a class="link" href="https://zh.wikipedia.org/wiki/%E9%9B%BB%E5%AD%90%E6%9B%B8" title="电子书"
target="_blank" rel="noopener"
>电子书&lt;/a>。&lt;/p>
&lt;h2 id="笔记格式软件选择">笔记格式软件选择&lt;/h2>
&lt;p>截止2024年2月20日，比较流行的MarkDown 编辑软件有如下几个选项&lt;/p>
&lt;ol>
&lt;li>语雀&lt;/li>
&lt;li>Typora&lt;/li>
&lt;li>VSCode&lt;/li>
&lt;li>Obsidian&lt;/li>
&lt;/ol>
&lt;h2 id="逐个分析不选用软件的原因">逐个分析不选用软件的原因&lt;/h2>
&lt;h4 id="语雀">语雀&lt;/h4>
&lt;p>语雀导入MarkDown方便，但导出功能并不是特别强大，MarkDown导入后，基本与语雀编辑器绑定，语雀官方文档上，有同学提出了希望能直接导出全知识库，但语雀团队并未提供相关支持。
&lt;img src="https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/202403041502909.png"
loading="lazy"
alt="image.png"
>
&lt;img src="https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/202403041502909.png"
loading="lazy"
alt="image.png"
>
&lt;img src="https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/202403041503941.png"
loading="lazy"
alt="image.png"
>&lt;/p>
&lt;p>原本我是语雀深度用户，团队内部使用语雀写文档，平时也是使用语雀做笔记，再配合chrome 的SimpRead 插件，方便的进行网上文章摘抄&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/202403041523141.png"
loading="lazy"
alt="image.png"
>&lt;/p>
&lt;p>但2023年10月23日，语雀挂了8小时，我为此还发了朋友圈，那时候就想切换到其他笔记软件，墨迹了几个月，终于开始干这事儿了
&lt;img src="https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/WechatIMG5.jpg"
loading="lazy"
alt="WechatIMG5.jpg"
>&lt;/p>
&lt;h4 id="typora">Typora&lt;/h4>
&lt;p>1.0.0 之后开始收费，付费用户也可以选择此方案&lt;/p>
&lt;h4 id="vscode">VSCode&lt;/h4>
&lt;p>严格来说不是专为markdown 准备的，但配合插件使用可以实现较强的功能，开源，安装插件之后也能实现很好的写作效果，但个人习惯原因，不是很喜欢此方式，还是更偏向于使用专门的编辑器来进行编辑&lt;/p>
&lt;h4 id="obsidian">Obsidian&lt;/h4>
&lt;p>接下来Obsidian 隆重登场，Obsidian的优势&lt;/p>
&lt;ol>
&lt;li>开源&lt;/li>
&lt;li>原生Markdown 编辑，就算倒闭了，或者收费了，也方便迁移到其他平台&lt;/li>
&lt;li>插件市场活跃，配合Template插件，Image auto update plugin 以及Picgo 图床软件能实现不输语雀的编辑体验&lt;/li>
&lt;li>配合github 的workflow ，推送完代码之后，自动构建静态博客&lt;/li>
&lt;li>配合vercel 及自定义域名，代码推送到github 之后，自动部署到自己的网站&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/eatmoreduck/picture-repository/blog/202403041432583.png"
loading="lazy"
alt="image.png"
>&lt;/p></description></item></channel></rss>